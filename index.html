<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Planejamento em busca da prosperidade</title>

    <meta property="og:title" content="Planejamento em busca da prosperidade" />
    <meta
      property="og:description"
      content="Planeja o futuro, viva o presente!"
    />
    <meta
      property="og:image"
      content="https://firebasestorage.googleapis.com/v0/b/financial-independence-planner.appspot.com/o/logo-report.png?alt=media&token=1792ab19-a43b-4fe5-98cc-f6f7deedf71b"
    />
    <meta property="og:url" content="https://valoriq.github.io/" />
    <meta property="og:type" content="article" />

    <!-- Carrega o Tailwind CSS para estilização -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Carrega a fonte Montserrat do Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <!-- Carrega as bibliotecas do React -->
    <script
      src="https://unpkg.com/react@18/umd/react.development.js"
      crossorigin
    ></script>
    <script
      src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
      crossorigin
    ></script>

    <!-- Carrega o Babel Standalone para transpilar JSX no navegador -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </head>
  <body>
    <!-- O contêiner onde a aplicação React será renderizada -->
    <div id="root"></div>

    <!--
      O 'type="text/babel"' informa ao Babel para transpilar este script.
      Todo o seu código React (app.js) está dentro desta tag.
    -->
    <script type="text/babel">
      // Hooks do React são extraídos do objeto global 'React'
      const { useState, useEffect, useRef, useMemo, useCallback } = React;

      // Ícones como componentes React para fácil reutilização
      const ICON_CLASS = "w-8 h-8 mr-4 flex-shrink-0";
      const commonSvg = {
        fill: "none",
        stroke: "currentColor",
        viewBox: "0 0 24 24",
        strokeWidth: 2,
        strokeLinecap: "round",
        strokeLinejoin: "round",
        "aria-hidden": "true",
      };

      const icons = {
        // Quem Somos — pessoas
        quemSomos: (
          <svg className={ICON_CLASS} {...commonSvg}>
            <path d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z" />
          </svg>
        ),

        // Previdência Imobiliária na Prática — casa (alias corrigindo o nome usado no Sidebar)
        previdenciaImobiliariaNaPratica: (
          <svg className={ICON_CLASS} {...commonSvg}>
            <path d="M3 10l9-7 9 7v10a1 1 0 01-1 1H4a1 1 0 01-1-1V10z" />
            <path d="M9 21v-7h6v7" />
          </svg>
        ),
        // Alias para evitar quebra com seu Sidebar atual
        previdenciaPratica: (
          <svg className={ICON_CLASS} {...commonSvg}>
            <path d="M3 10l9-7 9 7v10a1 1 0 01-1 1H4a1 1 0 01-1-1V10z" />
            <path d="M9 21v-7h6v7" />
          </svg>
        ),

        // Modalidades — lista
        modalidades: (
          <svg className={ICON_CLASS} {...commonSvg}>
            <line x1="4" y1="6" x2="20" y2="6" />
            <line x1="4" y1="12" x2="20" y2="12" />
            <line x1="4" y1="18" x2="20" y2="18" />
          </svg>
        ),

        // Financiamento — símbolo de porcentagem
        financiamento: (
          <svg className={ICON_CLASS} {...commonSvg}>
            <line x1="5" y1="19" x2="19" y2="5" />
            <circle cx="8" cy="8" r="3" />
            <circle cx="16" cy="16" r="3" />
          </svg>
        ),

        // Consórcio — parceria (elos/venn)
        consorcio: (
          <svg className={ICON_CLASS} {...commonSvg}>
            <circle cx="9" cy="12" r="5" />
            <circle cx="15" cy="12" r="5" />
          </svg>
        ),

        // Jornada — rota com bandeira
        jornada: (
          <svg className={ICON_CLASS} {...commonSvg}>
            <path d="M4 18c0-3 6-3 6-6s6-3 6 0" />
            <line x1="6" y1="20" x2="6" y2="20" /> {/* ponto base */}
            <line x1="18" y1="6" x2="18" y2="20" /> {/* mastro */}
            <path d="M18 6l3 1.5-3 1.5" /> {/* bandeira */}
          </svg>
        ),

        // Estratégia de Contemplação — alvo (bullseye)
        estrategiaContemplacao: (
          <svg className={ICON_CLASS} {...commonSvg}>
            <circle cx="12" cy="12" r="9" />
            <circle cx="12" cy="12" r="5" />
            <circle cx="12" cy="12" r="2" />
          </svg>
        ),

        // Previdência — escudo (proteção)
        previdencia: (
          <svg className={ICON_CLASS} {...commonSvg}>
            <path d="M12 2l7 4v6c0 5-3.5 9-7 10-3.5-1-7-5-7-10V6l7-4z" />
          </svg>
        ),

        // Previdência Imobiliária — casa
        previdenciaImobiliaria: (
          <svg className={ICON_CLASS} {...commonSvg}>
            <path d="M3 10l9-7 9 7v10a1 1 0 01-1 1H4a1 1 0 01-1-1V10z" />
            <path d="M9 21v-7h6v7" />
          </svg>
        ),

        // Previdência Privada — cadeado
        previdenciaPrivada: (
          <svg className={ICON_CLASS} {...commonSvg}>
            <rect x="5" y="11" width="14" height="9" rx="2" />
            <path d="M8 11V8a4 4 0 118 0v3" />
            <circle cx="12" cy="15" r="1.5" />
          </svg>
        ),

        // Dolarização — globo (exposição internacional)
        dolarizacao: (
          <svg className={ICON_CLASS} {...commonSvg}>
            <circle cx="12" cy="12" r="9" />
            <line x1="3" y1="12" x2="21" y2="12" />
            <path d="M12 3c3 3 3 15 0 18" />
            <path d="M12 3c-3 3-3 15 0 18" />
          </svg>
        ),

        // Saving — cofrinho/jarra de poupança
        saving: (
          <svg className={ICON_CLASS} {...commonSvg}>
            <rect x="8" y="4" width="8" height="3" rx="1" />
            <rect x="6" y="7" width="12" height="13" rx="2" />
            <circle cx="12" cy="12" r="2" />
          </svg>
        ),

        // Investment — linha em alta com seta
        investment: (
          <svg className={ICON_CLASS} {...commonSvg}>
            <polyline points="3,17 9,11 13,15 21,7" />
            <line x1="21" y1="7" x2="18" y2="4" />
            <line x1="21" y1="7" x2="18" y2="10" />
          </svg>
        ),

        // Simulador — calculadora
        simulador: (
          <svg className={ICON_CLASS} {...commonSvg}>
            <rect x="6" y="3" width="12" height="18" rx="2" />
            <line x1="9" y1="7" x2="15" y2="7" />
            <rect x="9" y="11" width="2" height="2" rx="0.5" />
            <rect x="13" y="11" width="2" height="2" rx="0.5" />
            <rect x="9" y="15" width="2" height="2" rx="0.5" />
            <rect x="13" y="15" width="2" height="2" rx="0.5" />
          </svg>
        ),
      };
      // Componente para Estilos Globais
      const GlobalStyles = () => (
        <style>{`
            :root {
                --wk-dark-blue: #003255;
                --wk-vibrant-blue: #005e91;
                --wk-light-blue: #e6f0ff;
                --wk-text-primary: #001f5a;
                --wk-text-secondary: #5a6a8a;
                --bg-main: #f8f9fa;
                --bg-panel: #ffffff;
                --border-color: #dee2e6;
                --color-consorcio: #3b82f6;
                --color-financiamento: #ef4444;
                --color-patrimonio: #10b981;
            }
            body {
                font-family: 'Montserrat', sans-serif;
                background-color: var(--bg-main);
                color: var(--wk-text-primary);
                overflow-x: hidden;
            }
            .content-animation {
                animation: fadeInUp 0.5s ease-in-out;
            }
            @keyframes fadeInUp {
                from { opacity: 0; transform: translateY(20px); }
                to { opacity: 1; transform: translateY(0); }
            }
            /* Estilos do Sidebar */
            .nav-link {
                display: flex;
                align-items: center;
                padding: 0.75rem 1rem;
                border-radius: 0.5rem;
                color: var(--wk-text-secondary);
                font-weight: 600;
                transition: all 0.3s ease;
                cursor: pointer;
                text-decoration: none;
                white-space: nowrap;
            }
            .nav-link:hover { background-color: #e9ecef; color: var(--wk-vibrant-blue); }
            .nav-link.active { background-color: var(--wk-light-blue); color: var(--wk-vibrant-blue); }
            /* Piramide */
            .pyramid-graphic-container { position: relative; width: 100%; max-width: 450px; height: 480px; flex-shrink: 0; }
            .pyramid-shape-6-level, .pyramid-shape-3-level {
                width: 100%; height: 100%;
                clip-path: polygon(50% 0%, 100% 100%, 0% 100%);
            }
            .pyramid-shape-6-level {
                background-image: linear-gradient(to bottom,
                    #DC2626 0%, #DC2626 16.66%, #F97316 16.66%, #F97316 33.33%,
                    #F59E0B 33.33%, #F59E0B 50%, #10B981 50%, #10B981 66.66%,
                    #0EA5E9 66.66%, #0EA5E9 83.33%, #3B82F6 83.33%, #3B82F6 100%);
            }
            .pyramid-shape-3-level {
                background-image: linear-gradient(to bottom, #DC2626 0%, #DC2626 33.33%, #0EA5E9 33.33%, #0EA5E9 66.66%, #3B82F6 66.66%, #3B82F6 100%);
            }
            .pyramid-text {
                position: absolute; left: 50%; transform: translateX(-50%);
                color: white; font-weight: 800; text-shadow: 0 2px 4px rgba(0,0,0,0.4);
                text-align: center; padding: 0 0.5rem; box-sizing: border-box;
                font-size: 1.1rem;
            }
            .pyramid-text.clickable {
                cursor: pointer;
                transition: all 0.2s ease;
            }
            .pyramid-text.clickable:hover {
                transform: translateX(-50%) scale(1.05);
                text-shadow: 0 4px 8px rgba(0,0,0,0.6);
            }
            .tab-button {
                padding: 0.5rem 1rem; font-size: 0.9rem; font-weight: 600;
                border-radius: 0.5rem; cursor: pointer; transition: all 0.3s ease;
                border: 2px solid transparent; color: var(--wk-text-secondary);
            }
            .tab-button.active {
                color: var(--wk-vibrant-blue); background-color: var(--wk-light-blue);
                border-color: var(--wk-vibrant-blue);
            }
            .tab-button:not(.active):hover { background-color: #e9ecef; }
            .toggle-checkbox:checked { right: 0; border-color: var(--wk-vibrant-blue); }
            .toggle-checkbox:checked + .toggle-label { background-color: var(--wk-vibrant-blue); }
            .content-wrapper { display: flex; align-items: center; transition: transform 0.5s ease-in-out; }
            .main-content { flex-grow: 1; transition: all 0.5s ease-in-out; }
            .promo-details {
                flex: 0 0 0px; opacity: 0; visibility: hidden;
                transition: all 0.5s ease-in-out; transform: translateX(20px);
            }
            .promo-active .content-wrapper { transform: translateX(-150px); }
            .promo-active .promo-details {
                flex: 0 0 300px; opacity: 1; visibility: visible; transform: translateX(0);
            }
            /* Modalidades */
            .sub-tab-button {
                padding: 0.75rem 0.5rem; margin-right: 1.5rem; font-weight: 600;
                font-size: 1.1rem; cursor: pointer; color: var(--wk-text-secondary);
                border-bottom: 3px solid transparent; transition: all 0.3s ease-in-out;
            }
            .sub-tab-button:hover { color: var(--wk-text-primary); }
            .sub-tab-button.active { color: var(--wk-vibrant-blue); border-bottom-color: var(--wk-vibrant-blue); }
            /* Jornada & Financiamento & Consorcio - Timeline */
            .timeline-container { position: relative; padding-top: 3rem; }
            .timeline-axis {
                position: absolute; top: 0; left: 0; width: 100%; height: 2rem;
                border-bottom: 2px solid var(--border-color);
            }
            .axis-marker {
                position: absolute; bottom: -1.75rem; transform: translateX(-50%);
                font-size: 0.9rem; font-weight: 600; color: var(--wk-text-secondary);
            }
            .axis-marker::before {
                content: ''; position: absolute; width: 2px; height: 0.5rem;
                background-color: var(--border-color); top: -0.5rem; left: 50%;
                transform: translateX(-50%);
            }
            .timeline-track { position: relative; width: 100%; height: 2.5rem; background-color: #e2e8f0; border-radius: 9999px; }
            .timeline-bar {
                position: absolute; height: 100%; border-radius: 9999px;
                transform: scaleX(0); transform-origin: left;
                animation: grow 1.5s cubic-bezier(0.25, 1, 0.5, 1) forwards;
                display: flex; align-items: center; justify-content: flex-start;
                padding-left: 1.5rem; color: white; font-weight: 600;
                font-size: 1rem; text-shadow: 0 1px 2px rgba(0,0,0,0.3);
            }
            .event-marker {
                position: absolute; top: 50%; transform: translate(-50%, -50%);
                width: 2.5rem; height: 2.5rem; border-radius: 50%;
                display: flex; align-items: center; justify-content: center;
                color: white; cursor: pointer; z-index: 10;
                opacity: 0; animation: fadeInMarker 0.5s 1s ease-out forwards;
                border: 3px solid var(--bg-panel);
            }
            .event-marker .tooltip {
                visibility: hidden; width: 160px; background-color: var(--wk-text-primary);
                color: #fff; text-align: center; border-radius: 6px; padding: 8px 10px;
                position: absolute; z-index: 1; bottom: 150%; left: 50%;
                margin-left: -80px; opacity: 0; transition: opacity 0.3s;
                font-size: 0.9rem; font-weight: 500;
            }
            .event-marker .tooltip::after {
                content: ""; position: absolute; top: 100%; left: 50%; margin-left: -5px;
                border-width: 5px; border-style: solid; border-color: var(--wk-text-primary) transparent transparent transparent;
            }
            .event-marker:hover .tooltip { visibility: visible; opacity: 1; }
            @keyframes grow { to { transform: scaleX(1); } }
            @keyframes fadeInMarker {
                from { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
                to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
            }
            /* Financiamento - Círculo */
            .cost-circle-container { position: relative; width: 150px; height: 150px; margin: auto; }
            .cost-circle-svg { width: 100%; height: 100%; transform: rotate(-90deg); }
            .cost-circle-bg { fill: none; stroke: #e2e8f0; stroke-width: 16; }
            .cost-circle-progress {
                fill: none; stroke: var(--color-financiamento); stroke-width: 16;
                stroke-linecap: round; stroke-dasharray: 421; stroke-dashoffset: 421;
                animation: fill-circle 2s 0.5s ease-out forwards;
            }
            .cost-circle-text {
                position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
                text-align: center; color: var(--wk-dark-blue);
            }
            .cost-circle-text .value { font-size: 3.75rem; font-weight: 800; line-height: 1; color: var(--color-financiamento); }
            .cost-circle-text .label { font-size: 0.75rem; font-weight: 600; margin-top: -0.25rem; }
            @keyframes fill-circle { to { stroke-dashoffset: 63; } }
            /* Consorcio - Flip Card */
            .flip-card { perspective: 1000px; cursor: pointer; }
            .flip-card-inner { position: relative; width: 100%; height: 100%; transition: transform 0.7s; transform-style: preserve-3d; }
            .flip-card.flipped .flip-card-inner { transform: rotateY(180deg); }
            .flip-card-front, .flip-card-back {
                position: absolute; width: 100%; height: 100%; -webkit-backface-visibility: hidden;
                backface-visibility: hidden; display: flex; flex-direction: column;
                justify-content: center; align-items: center; padding: 1rem;
                border-radius: 0.5rem; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            }
            .flip-card-back { transform: rotateY(180deg); background-color: var(--color-patrimonio); }
            .asset-multiplier-container { position: relative; width: 140px; height: 140px; margin: auto; display: flex; align-items: center; justify-content: center; }
            .asset-multiplier-text { font-size: 3.75rem; font-weight: 800; line-height: 1; color: var(--color-patrimonio); z-index: 10; }
            .asset-icon { position: absolute; color: var(--color-patrimonio); animation: float 6s ease-in-out infinite; }
            @keyframes float {
                0% { transform: translateY(0px) scale(1); opacity: 0.3; }
                50% { transform: translateY(-10px) scale(1.05); opacity: 0.6; }
                100% { transform: translateY(0px) scale(1); opacity: 0.3; }
            }
            /* Consorcio na Prática */
            @keyframes slideInUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
            .history-header, .history-row { display: grid; grid-template-columns: 1.2fr 1fr 1fr 1.2fr; gap: 0.5rem; padding: 0.5rem; text-align: right; font-size: 0.8rem; }
            .history-header { font-weight: 700; color: var(--wk-text-primary); border-bottom: 2px solid var(--border-color); position: sticky; top: 0; background-color: white; z-index: 10;}
            .history-header span:first-child { text-align: left; font-weight: 600; }
            .history-row { border-radius: 4px; animation: slideInUp 0.5s ease forwards; }
            .history-row span:first-child { text-align: left; font-weight: 700; color: var(--wk-dark-blue); }
            .history-row span:not(:first-child) { font-weight: 700; color: #4b5563; }
            .history-row:nth-child(even) { background-color: var(--bg-main); }
            .participant { position: absolute; display: flex; flex-direction: column; align-items: center; transition: all 0.3s ease-in-out; }
            .participant-icon {
                width: 72px; height: 72px; border-radius: 50%; background-color: #cbd5e1;
                display: flex; align-items: center; justify-content: center; border: 4px solid white;
                box-shadow: 0 4px 8px rgba(0,0,0,0.1); transition: all 0.3s ease; overflow: hidden;
            }
            .participant-icon img { width: 100%; height: 100%; object-fit: cover; }
            .participant-name {
                margin-top: 0.75rem; font-weight: 600; font-size: 0.9rem; color: var(--wk-text-secondary);
                background-color: rgba(255,255,255,0.8); padding: 2px 10px; border-radius: 9999px;
            }
            .participant.contemplated .participant-icon { border-color: #a7f3d0; box-shadow: 0 0 15px var(--color-patrimonio); }
            .participant.contemplated::after {
                content: '✓'; position: absolute; top: -5px; right: -5px; width: 28px; height: 28px;
                background-color: var(--color-patrimonio); color: white; border-radius: 50%; display: flex;
                align-items: center; justify-content: center; font-weight: bold; font-size: 1.1rem;
                box-shadow: 0 1px 3px rgba(0,0,0,0.2);
            }
            .central-hub { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); text-align: center; width: 280px; z-index: 20; }
            .central-hub-info { background-color: white; padding: 1rem; border-radius: 0.75rem; box-shadow: 0 4px 10px rgba(0,0,0,0.08); border: 1px solid var(--border-color); }
            .animation-status { margin-top: 1rem; font-weight: 600; color: var(--wk-text-primary); height: 40px; font-size: 1.1rem; }
            .reveal { opacity: 0; transform: translateY(12px) scale(.98); transition: opacity .6s ease, transform .6s cubic-bezier(.25,1,.5,1); }
.reveal.reveal-in { opacity: 1; transform: translateY(0) scale(1); }

.page-card { animation: pageIn .4s cubic-bezier(.25,1,.5,1) both; }
@keyframes pageIn { from { opacity:.0; transform: translateY(12px) scale(.98);} to { opacity:1; transform:none;} }

.shimmer::before{
  content:""; position:absolute; inset:0;
  background: linear-gradient(90deg, rgba(0,0,0,0) 0%, rgba(255,255,255,.45) 50%, rgba(0,0,0,0) 100%);
  transform: translateX(-100%); animation: shimmer 1.2s linear infinite;
}
@keyframes shimmer { to { transform: translateX(100%);} }

.timeline-bar { position: relative; overflow: hidden; }
.timeline-stripes{
  position:absolute; inset:0; opacity:.35; pointer-events:none;
  background-image: repeating-linear-gradient(45deg, #fff 0 10px, transparent 10px 20px);
  background-size: 200% 100%; animation: move-stripes 2.4s linear infinite;
}
@keyframes move-stripes { to { background-position: 200% 0; } }

.event-marker { position:absolute; }
.event-marker .pulse-ring{
  position:absolute; left:50%; top:50%;
  width:3.25rem; height:3.25rem; border-radius:9999px; border:3px solid currentColor;
  transform: translate(-50%,-50%); opacity:.5; animation: pulse 1.8s ease-out infinite;
}
@keyframes pulse { 0%{ transform:translate(-50%,-50%) scale(.6); opacity:.5}
  70%{ transform:translate(-50%,-50%) scale(1.2); opacity:0 } 100%{opacity:0}
}

/* Acessibilidade: reduz animações se o usuário preferir */
@media (prefers-reduced-motion: reduce){
  .reveal, .page-card, .timeline-stripes, .pulse-ring, .content-animation { animation:none !important; transition:none !important; }
}



          `}</style>
      );
      // Hook mínimo para disparar animações quando o bloco entra na viewport
      const useInView = (options = { threshold: 0.2 }) => {
        const ref = useRef(null);
        const [inView, setInView] = useState(false);
        useEffect(() => {
          const el = ref.current;
          if (!el) return;
          const obs = new IntersectionObserver(([e]) => {
            if (e.isIntersecting) {
              setInView(true);
              obs.disconnect();
            }
          }, options);
          obs.observe(el);
          return () => obs.disconnect();
        }, [options]);
        return [ref, inView];
      };

      // Wrapper para aplicar .reveal/.reveal-in automaticamente
      const Reveal = ({ children, className = "" }) => {
        const [ref, inView] = useInView();
        return (
          <div
            ref={ref}
            className={`reveal ${inView ? "reveal-in" : ""} ${className}`}
          >
            {children}
          </div>
        );
      };

      // Counter animado (conta ao entrar na tela)
      const Counter = ({
        value,
        duration = 1200,
        prefix = "",
        suffix = "",
        locale = "pt-BR",
        minimumFractionDigits = 0,
        maximumFractionDigits = 0,
        className = "",
      }) => {
        const [ref, inView] = useInView({ threshold: 0.3 });
        const [display, setDisplay] = useState(0);
        const fromRef = useRef(0);
        const startRef = useRef(null);
        const rafRef = useRef();

        useEffect(() => {
          if (!inView) return;
          cancelAnimationFrame(rafRef.current);
          startRef.current = null;
          fromRef.current = 0;
          const step = (ts) => {
            if (!startRef.current) startRef.current = ts;
            const p = Math.min(1, (ts - startRef.current) / duration);
            // easeOutCubic
            const eased = 1 - Math.pow(1 - p, 3);
            const current = fromRef.current + (value - fromRef.current) * eased;
            setDisplay(current);
            if (p < 1) rafRef.current = requestAnimationFrame(step);
          };
          rafRef.current = requestAnimationFrame(step);
          return () => cancelAnimationFrame(rafRef.current);
        }, [inView, value, duration]);

        return (
          <span ref={ref} className={className}>
            {prefix}
            {display.toLocaleString(locale, {
              minimumFractionDigits,
              maximumFractionDigits,
            })}
            {suffix}
          </span>
        );
      };

      // Componente Header
      const Header = () => (
        <header
          className="mb-8 p-2 pl-4 pr-4 rounded-xl text-white flex items-center justify-between"
          style={{
            background:
              "linear-gradient(90deg, var(--wk-dark-blue) 0%, var(--wk-vibrant-blue) 100%)",
          }}
        >
          <div className="flex items-center gap-4">
            <div>
              <h1 className="text-4xl font-bold">
                Planejamento em busca da prosperidade
              </h1>
            </div>
          </div>
          <img
            src="https://firebasestorage.googleapis.com/v0/b/financial-independence-planner.appspot.com/o/valoriq-github-blog%2Flogo-blog.png?alt=media&token=942ce24d-d087-4075-8c00-d0b678c3c4d8"
            alt="Logo WK"
            className="h-24"
            onError={(e) => {
              e.target.onerror = null;
              e.target.src =
                "https://placehold.co/180x96/001f5a/ffffff?text=WK+Logo";
            }}
          />
        </header>
      );

      // Componente Sidebar
      const Sidebar = ({ activePage, onNavigate }) => {
        const [isCollapsed, setIsCollapsed] = useState(true);

        const navItems = [
          {
            id: "quem-somos",
            label: "Quem Somos",
            icon: icons.quemSomos,
            external: false,
          },
          {
            id: "previdencia-imobiliaria-na-pratica",
            label: "Previdência Prática",
            icon: icons.previdenciaImobiliariaNaPratica,
            external: false,
          },
          {
            id: "modalidades",
            label: "Modalidades",
            icon: icons.modalidades,
            external: false,
          },
          {
            id: "financiamento",
            label: "Financiamento",
            icon: icons.financiamento,
            external: false,
          },
          {
            id: "consorcio",
            label: "Consórcio",
            icon: icons.consorcio,
            external: false,
          },
          {
            id: "jornada-previdencia-imobiliaria",
            label: "Jornada",
            icon: icons.jornada,
            external: false,
          },
          {
            id: "estrategia-contemplacao",
            label: "Estratégia Contemplação",
            icon: icons.estrategiaContemplacao,
            external: false,
          },
          {
            id: "previdencia",
            label: "Previdência",
            icon: icons.previdencia,
            external: false,
          },
          {
            id: "previdencia-imobiliaria",
            label: "Previdência Imobiliária",
            icon: icons.previdenciaImobiliaria,
            external: false,
          },
          {
            id: "previdencia-privada",
            label: "Previdência Privada",
            icon: icons.previdenciaPrivada,
            external: false,
          },
          {
            id: "dolarizacao",
            label: "Dolarização",
            icon: icons.dolarizacao,
            external: false,
          },
          {
            id: "saving",
            label: "Saving",
            icon: icons.saving,
            external: false,
          },
          {
            id: "investment",
            label: "Investment",
            icon: icons.investment,
            external: false,
          },
          {
            id: "simulador",
            label: "Simulador",
            icon: icons.simulador,
            external: true,
            href: "https://valoriq.com.br/calculadora-sonhos#calculadora",
          },
        ];

        return (
          <aside
            id="main-sidebar"
            className={`flex-shrink-0 transition-all duration-300 ease-in-out bg-white p-4 rounded-xl shadow-lg h-full flex flex-col ${
              isCollapsed ? "w-[90px]" : "w-[280px]"
            }`}
            onMouseEnter={() => setIsCollapsed(false)}
            onMouseLeave={() => setIsCollapsed(true)}
          >
            <nav className="flex-grow" aria-label="Navegação Principal">
              <div className="flex flex-col space-y-2">
                {navItems.map((item) => (
                  <a
                    key={item.id}
                    href={item.external ? item.href : "#"}
                    target={item.external ? "_blank" : "_self"}
                    rel={item.external ? "noopener noreferrer" : ""}
                    className={`nav-link ${
                      activePage === item.id ? "active" : ""
                    }`}
                    onClick={(e) => {
                      if (!item.external) {
                        e.preventDefault();
                        onNavigate(item.id);
                      }
                    }}
                  >
                    {item.icon}
                    <span
                      className={`link-text transition-opacity duration-200 ${
                        isCollapsed ? "opacity-0" : "opacity-100"
                      }`}
                    >
                      {item.label}
                    </span>
                  </a>
                ))}
              </div>
            </nav>
          </aside>
        );
      };

      // Componentes de Página
      const QuemSomos = () => (
        <div className="content-animation">
          <h2 className="text-4xl font-bold text-center mb-8">
            Nossa História
          </h2>
          <div className="text-left text-gray-700 space-y-5 max-w-3xl mx-auto text-lg leading-relaxed">
            <p>
              A Valoriq nasceu da união entre propósito e ousadia. Criada por
              sócios com ampla vivência no mercado financeiro, sua origem está
              enraizada na experiência e na inconformidade com o modelo
              tradicional de assessoria de investimentos.
            </p>
            <p>
              Com sede em São Paulo e uma visão tradicional, a Valoriq surgiu
              para desafiar o status-quo e democratizar o acesso a soluções
              financeiras com planejamento real, humano e estratégico.
            </p>
            <p>
              A Valoriq ajuda brasileiros a tomar decisões seguras, organizar
              sua vida financeira e realizar sonhos — com empatia, educação e
              visão de longo prazo.
            </p>
            <p>
              Com um ecossistema completo que inclui consultoria personalizada,
              tecnologia própria e parcerias com as maiores instituições do
              mercado, a Valoriq vem se consolidando como um hub de soluções
              financeiras de alto impacto.
            </p>
            <p>
              Hoje, com clientes em todo o país e uma rede crescente de
              planejadores, a Valoriq já é referência em um novo jeito de fazer
              finanças: com integridade, propósito e compromisso com resultados
              reais.
            </p>
            <p>
              Essa história está só começando. E será construída, como sempre
              foi, lado a lado com pessoas que acreditam no poder de transformar
              vidas por meio da inteligência financeira.
            </p>
            <p>
              A Valoriq nasceu para desafiar o modelo tradicional de assessoria.
              Com tecnologia própria e consultoria humana, ajuda brasileiros a
              organizar finanças e realizar sonhos.
              <br />
              Hoje, é referência em inteligência financeira com propósito e
              resultados reais.
            </p>
          </div>
        </div>
      );

      const EstrategiaContemplacao = () => {
        return (
          <div className="content-animation">
            <h2 className="text-4xl font-bold text-center mb-4 text-wk-text-primary">
              Estratégia de Contemplação
            </h2>
            <p className="text-center text-xl text-wk-text-secondary mb-10">
              Estratégias e probabilidades para ser contemplado no consórcio.
            </p>

            <div className="flex flex-col md:flex-row justify-center items-stretch gap-6">
              {/* Cartão de Lance Livre */}
              <div className="flex-1 bg-red-500 text-white p-6 rounded-xl shadow-lg flex flex-col items-center text-center transition-all duration-300 hover:scale-105">
                <h3 className="text-2xl font-bold mb-2">Lance Livre</h3>
                <p className="text-lg text-red-100">
                  Oferte um percentual do seu crédito para antecipar a
                  contemplação. O maior lance vence.
                </p>
              </div>

              {/* Cartão de Lance Fixo */}
              <div className="flex-1 bg-sky-500 text-white p-6 rounded-xl shadow-lg flex flex-col items-center text-center transition-all duration-300 hover:scale-105">
                <h3 className="text-2xl font-bold mb-2">Lance Fixo</h3>
                <p className="text-lg text-sky-100">
                  Concorra com outros consorciados que ofertaram o mesmo
                  percentual fixo.
                </p>
              </div>

              {/* Cartão de Sorteio */}
              <div className="flex-1 bg-blue-500 text-white p-6 rounded-xl shadow-lg flex flex-col items-center text-center transition-all duration-300 hover:scale-105">
                <h3 className="text-2xl font-bold mb-2">Sorteio</h3>
                <p className="text-lg text-blue-100">
                  Todos os participantes com pagamentos em dia concorrem
                  igualmente.
                </p>
              </div>
            </div>
          </div>
        );
      };

      const Modalidades = () => {
        const [activeSubTab, setActiveSubTab] = useState("avista");

        return (
          <div className="content-animation">
            <h2 className="text-4xl font-bold text-center mb-8">
              Modalidades de Aquisição
            </h2>
            <div className="border-b border-gray-200">
              <nav className="-mb-px flex" aria-label="Sub-Tabs">
                <button
                  className={`sub-tab-button ${
                    activeSubTab === "avista" ? "active" : ""
                  }`}
                  onClick={() => setActiveSubTab("avista")}
                >
                  À Vista
                </button>
                <button
                  className={`sub-tab-button ${
                    activeSubTab === "financiamento" ? "active" : ""
                  }`}
                  onClick={() => setActiveSubTab("financiamento")}
                >
                  Financiamento
                </button>
                <button
                  className={`sub-tab-button ${
                    activeSubTab === "consorcio" ? "active" : ""
                  }`}
                  onClick={() => setActiveSubTab("consorcio")}
                >
                  Consórcio
                </button>
              </nav>
            </div>
            <div className="mt-8">
              {activeSubTab === "avista" && (
                <div className="p-6 rounded-lg bg-red-50 border border-red-200">
                  <div className="flex items-start">
                    <div className="text-4xl mr-5 mt-1">📉</div>
                    <div>
                      <h4 className="font-bold text-xl text-red-800">
                        O Risco da Descapitalização Total
                      </h4>
                      <p className="text-red-700 mt-2 text-lg">
                        Pagar à vista parece vantajoso, mas imobiliza seu
                        capital em um único ativo, gerando riscos e perdas que
                        superam a pequena economia de juros.
                      </p>
                    </div>
                  </div>
                  <ul className="mt-4 ml-5 space-y-3 list-disc text-red-700 text-base">
                    <li>
                      <b>Perda de Liquidez:</b> Você fica sem reserva de
                      emergência para imprevistos ou para aproveitar outras
                      oportunidades de investimento que possam surgir.
                    </li>
                    <li>
                      <b>Custo de Oportunidade Elevado:</b> O dinheiro investido
                      no imóvel poderia estar rendendo juros em aplicações
                      financeiras, gerando uma nova fonte de renda passiva.
                    </li>
                    <li>
                      <b>Risco Concentrado:</b> Todo o seu patrimônio fica
                      vulnerável às flutuações e riscos de um único mercado, o
                      imobiliário.
                    </li>
                  </ul>
                </div>
              )}
              {activeSubTab === "financiamento" && (
                <div className="p-6 rounded-lg bg-red-50 border border-red-200">
                  <div className="flex items-start">
                    <div className="text-4xl mr-5 mt-1">⛓️</div>
                    <div>
                      <h4 className="font-bold text-xl text-red-800">
                        A Dívida que Consome seu Futuro
                      </h4>
                      <p className="text-red-700 mt-2 text-lg">
                        O financiamento é a forma mais cara de adquirir um bem.
                        Os juros compostos transformam o sonho em um pesadelo
                        financeiro que pode durar décadas.
                      </p>
                    </div>
                  </div>
                  <ul className="mt-4 ml-5 space-y-3 list-disc text-red-700 text-base">
                    <li>
                      <b>Custo Exorbitante:</b> Você paga de 3 a 4 vezes o valor
                      do bem, enriquecendo o banco em vez de construir seu
                      próprio patrimônio.
                    </li>
                    <li>
                      <b>Comprometimento da Renda:</b> Parcelas altas sufocam
                      seu orçamento, limitando seu padrão de vida e a capacidade
                      de fazer novos investimentos.
                    </li>
                    <li>
                      <b>Burocracia e Insegurança:</b> Processo lento, complexo
                      e sujeito a variações de taxas (como IPCA) que podem
                      aumentar drasticamente o valor das parcelas.
                    </li>
                  </ul>
                </div>
              )}
              {activeSubTab === "consorcio" && (
                <div className="p-6 rounded-lg bg-green-50 border border-green-200">
                  <div className="flex items-start">
                    <div className="text-4xl mr-5 mt-1">🚀</div>
                    <div>
                      <h4 className="font-bold text-xl text-green-800">
                        Construção de Patrimônio com Inteligência
                      </h4>
                      <p className="text-green-700 mt-2 text-lg">
                        O consórcio é uma ferramenta de autofinanciamento
                        planejado que permite alavancar seu capital sem pagar
                        juros, transformando disciplina em riqueza.
                      </p>
                    </div>
                  </div>
                  <ul className="mt-4 ml-5 space-y-3 list-disc text-green-700 text-base">
                    <li>
                      <b>Economia Máxima:</b> Custo final drasticamente
                      inferior, sem a cobrança de juros, apenas uma taxa de
                      administração diluída ao longo do plano.
                    </li>
                    <li>
                      <b>Poder de Compra à Vista:</b> Ao ser contemplado, você
                      tem o valor integral da carta para negociar os melhores
                      descontos na aquisição do seu bem.
                    </li>
                    <li>
                      <b>Flexibilidade Total:</b> Use a carta de crédito para
                      comprar, construir, reformar, quitar um financiamento ou
                      até mesmo investir o valor, se permitido pelo grupo.
                    </li>
                    <li>
                      <b>Proteção Contra a Inflação:</b> O valor da sua carta de
                      crédito é atualizado periodicamente, garantindo que seu
                      poder de compra seja mantido até a contemplação.
                    </li>
                  </ul>
                </div>
              )}
            </div>
          </div>
        );
      };

      const TimelineChart = ({ timelineData, maxAnos }) => {
        const iconMap = useMemo(
          () => ({
            Assinatura: (
              <svg
                className="w-7 h-7"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  strokeWidth="2"
                  d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
                ></path>
              </svg>
            ),
            "1 Imóvel Quitado": (
              <svg
                className="w-7 h-7"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  strokeWidth="2"
                  d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"
                ></path>
              </svg>
            ),
            "Contemplado!": (
              <svg
                className="w-7 h-7"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  strokeWidth="2"
                  d="M15 7h2a2 2 0 012 2v10a2 2 0 01-2 2h-2m-6 0H7a2 2 0 01-2-2V9a2 2 0 012-2h2.5M15 7v0a3 3 0 00-3-3H9a3 3 0 00-3 3v0M15 7A3 3 0 0012 4v0H9a3 3 0 00-3 3v0"
                ></path>
              </svg>
            ),
            "Consórcio Quitado": (
              <svg
                className="w-7 h-7"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  strokeWidth="2"
                  d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"
                ></path>
              </svg>
            ),
            "1ª Casa (Alugada)": (
              <svg
                className="w-7 h-7"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  strokeWidth="2"
                  d="M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z"
                ></path>
              </svg>
            ),
            "2ª Casa": (
              <svg
                className="w-7 h-7"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  strokeWidth="2"
                  d="M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z"
                ></path>
              </svg>
            ),
            "3ª Casa": (
              <svg
                className="w-7 h-7"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  strokeWidth="2"
                  d="M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z"
                ></path>
              </svg>
            ),
          }),
          []
        );

        return (
          <div className="timeline-container space-y-12">
            <div className="timeline-axis">
              {Array.from({ length: maxAnos / 5 + 1 }, (_, i) => i * 5).map(
                (year) => (
                  <div
                    key={year}
                    className="axis-marker"
                    style={{ left: `${(year / maxAnos) * 100}%` }}
                  >
                    {year}a
                  </div>
                )
              )}
            </div>
            {timelineData.map((item, index) => (
              <div key={index} className="relative z-1">
                <p className="font-semibold mb-3 text-lg text-gray-700">
                  {item.label}
                </p>
                <div className="timeline-track">
                  <div
                    className="timeline-bar"
                    style={{
                      width: `${(item.anos / maxAnos) * 100}%`,
                      animationDelay: `${index * 0.2}s`,
                      backgroundColor: item.color,
                    }}
                  >
                    <span>{item.barLabel}</span>
                  </div>
                  {item.events.map((event, eventIndex) => (
                    <div
                      key={eventIndex}
                      className="event-marker"
                      style={{
                        left: `${(event.ano / maxAnos) * 100}%`,
                        backgroundColor: item.color,
                        animationDelay: `${
                          1 + eventIndex * 0.3 + index * 0.2
                        }s`,
                      }}
                    >
                      {iconMap[event.label] || "?"}
                      <span className="tooltip">{event.label}</span>
                    </div>
                  ))}
                </div>
              </div>
            ))}
          </div>
        );
      };

      const JornadaPatrimonio = () => {
        const timelineData = [
          {
            label: "Financiamento (Pagando Juros)",
            anos: 35,
            color: "var(--color-financiamento)",
            barLabel: "Pagamento de Juros",
            events: [
              { ano: 0, label: "Assinatura" },
              { ano: 35, label: "1 Imóvel Quitado" },
            ],
          },
          {
            label: "Ciclo do 1º Consórcio",
            anos: 16,
            color: "var(--color-consorcio)",
            barLabel: "Pagamento do Consórcio",
            events: [
              { ano: 0, label: "Assinatura" },
              { ano: 10, label: "Contemplado!" },
              { ano: 16, label: "Consórcio Quitado" },
            ],
          },
          {
            label: "Aquisição e Rentabilidade do Patrimônio (via Consórcio)",
            anos: 35,
            color: "var(--color-patrimonio)",
            barLabel: "Rentabilizando com Aluguel",
            events: [
              { ano: 10, label: "1ª Casa (Alugada)" },
              { ano: 20, label: "2ª Casa" },
              { ano: 30, label: "3ª Casa" },
            ],
          },
        ];

        return (
          <div className="content-animation">
            <h2 className="text-4xl font-bold text-center mb-4">
              Jornada da previdência imobiliária
            </h2>
            <p className="text-center text-lg text-gray-500 mb-12">
              Uma visão de longo prazo sobre as duas modalidades.
            </p>
            <TimelineChart timelineData={timelineData} maxAnos={35} />
          </div>
        );
      };

      const Financiamento = () => {
        const timelineData = [
          {
            label: "Financiamento (Pagando Juros)",
            anos: 35,
            color: "var(--color-financiamento)",
            barLabel: "Pagamento de Juros",
            events: [
              { ano: 0, label: "Assinatura" },
              { ano: 35, label: "1 Imóvel Quitado" },
            ],
          },
        ];

        return (
          <div className="content-animation">
            <h2 className="text-2xl font-bold text-center mb-1">
              Jornada de Aquisição e Patrimônio
            </h2>
            <p className="text-center text-base text-wk-text-secondary mb-4">
              Uma visão de longo prazo sobre o financiamento.
            </p>

            <div className="grid grid-cols-1 lg:grid-cols-2 gap-4 items-stretch mb-4">
              <div className="bg-red-500 text-white p-4 rounded-lg flex flex-col justify-center shadow-lg">
                <h4 className="font-extrabold text-xl text-center">
                  Simulação de Custo
                </h4>
                <p className="mt-2 text-sm text-center text-red-100">
                  Para um crédito de{" "}
                  <b className="font-black text-white">R$ 1.000.000,00</b>, você
                  inicia com uma prestação de{" "}
                  <b className="font-black text-white">R$ 14.000,00</b>, um
                  compromisso financeiro que se estende por{" "}
                  <b className="font-black text-white">35 anos</b>, consumindo
                  sua renda e limitando seu potencial de crescimento.
                </p>
                <div className="mt-4 text-center">
                  <p className="font-extrabold text-lg">
                    Custo Efetivo Total (CET)
                  </p>
                  <p className="text-white text-base font-bold">
                    Taxas superiores a 12-13% a.a.
                  </p>
                </div>
              </div>

              <div className="p-4 border rounded-lg flex flex-col items-center justify-center">
                <h3 className="text-base font-bold text-center mb-2">
                  Custo Total de Até
                </h3>
                <div className="cost-circle-container">
                  <svg className="cost-circle-svg" viewBox="0 0 200 200">
                    <circle
                      className="cost-circle-bg"
                      cx="100"
                      cy="100"
                      r="81"
                    ></circle>
                    <circle
                      className="cost-circle-progress"
                      cx="100"
                      cy="100"
                      r="81"
                    ></circle>
                  </svg>
                  <div className="cost-circle-text">
                    <span className="value">3x</span>
                    <span className="label">o valor do bem</span>
                  </div>
                </div>
                <p className="text-center text-gray-600 mt-2 text-xs">
                  Juros compostos podem mais que triplicar o custo final do seu
                  patrimônio.
                </p>
              </div>
            </div>

            <TimelineChart timelineData={timelineData} maxAnos={35} />
          </div>
        );
      };

      const Consorcio = () => {
        const [isFlipped, setIsFlipped] = useState(false);

        const timelineData = [
          {
            label: "Ciclo do Consórcio",
            anos: 16,
            color: "var(--color-consorcio)",
            barLabel: "Pagamento do Plano",
            events: [
              { ano: 0, label: "Assinatura" },
              { ano: 10, label: "Contemplado!" },
              { ano: 16, label: "Consórcio Quitado" },
            ],
          },
          {
            label: "Aquisição e Rentabilidade do Patrimônio",
            anos: 35,
            color: "var(--color-patrimonio)",
            barLabel: "Rentabilizando com Aluguel",
            events: [
              { ano: 10, label: "1ª Casa (Alugada)" },
              { ano: 20, label: "2ª Casa" },
              { ano: 30, label: "3ª Casa" },
            ],
          },
        ];

        return (
          <div className="content-animation">
            <h2 className="text-2xl font-bold text-center mb-1">
              Jornada de Aquisição e Patrimônio
            </h2>
            <p className="text-center text-base text-wk-text-secondary mb-4">
              Uma visão de longo prazo sobre o consórcio como ferramenta de
              alavancagem.
            </p>

            <div className="grid grid-cols-1 lg:grid-cols-2 gap-4 items-stretch mb-4 h-[200px]">
              <div
                className={`flip-card ${isFlipped ? "flipped" : ""}`}
                onClick={() => setIsFlipped(!isFlipped)}
              >
                <div className="flip-card-inner">
                  <div className="flip-card-front bg-blue-500 text-white">
                    <h4 className="font-extrabold text-xl text-center">
                      Simulação de Custo
                    </h4>
                    <p className="mt-2 text-sm text-center text-blue-100">
                      Para um crédito de{" "}
                      <b className="font-black text-white">R$ 1.000.000,00</b>,
                      você inicia com uma prestação de{" "}
                      <b className="font-black text-white">R$ 2.987,00</b>, em
                      um plano de{" "}
                      <b className="font-black text-white">16 anos</b>,
                      utilizando a inteligência financeira para construir seu
                      futuro sem pagar juros.
                    </p>
                  </div>
                  <div className="flip-card-back">
                    <h4 className="font-extrabold text-xl text-center text-white">
                      Campanha Promocional!
                    </h4>
                    <p className="mt-2 text-sm text-center text-green-100">
                      Pague apenas{" "}
                      <b className="font-black text-white">R$ 2.800,00</b> por
                      mês até ser contemplado! Uma oportunidade única para
                      acelerar a conquista do seu patrimônio com{" "}
                      <b className="font-black text-white">50% de desconto</b>{" "}
                      na parcela.
                    </p>
                  </div>
                </div>
              </div>

              <div className="p-4 border rounded-lg flex flex-col items-center justify-center">
                <h3 className="text-base font-bold text-center mb-2">
                  Multiplicação de Patrimônio
                </h3>
                <div className="asset-multiplier-container">
                  <svg
                    className="asset-icon w-12 h-12"
                    style={{ top: "15%", left: "15%", animationDelay: "0s" }}
                    viewBox="0 0 24 24"
                    fill="currentColor"
                  >
                    <path d="M10 20v-6h4v6h5v-8h3L12 3L2 12h3v8h5z" />
                  </svg>
                  <svg
                    className="asset-icon w-16 h-16"
                    style={{ top: "50%", left: "50%", animationDelay: "-2s" }}
                    viewBox="0 0 24 24"
                    fill="currentColor"
                  >
                    <path d="M10 20v-6h4v6h5v-8h3L12 3L2 12h3v8h5z" />
                  </svg>
                  <svg
                    className="asset-icon w-12 h-12"
                    style={{ top: "30%", left: "75%", animationDelay: "-4s" }}
                    viewBox="0 0 24 24"
                    fill="currentColor"
                  >
                    <path d="M10 20v-6h4v6h5v-8h3L12 3L2 12h3v8h5z" />
                  </svg>
                  <span className="asset-multiplier-text">3x</span>
                </div>
                <p className="text-center text-gray-600 mt-2 text-xs">
                  Em 35 anos, é possível adquirir 3x mais bens que no
                  financiamento.
                </p>
              </div>
            </div>

            <TimelineChart timelineData={timelineData} maxAnos={35} />
          </div>
        );
      };

      // ============ PREVIDÊNCIA IMOBILIÁRIA NA PRÁTICA (mantido; sem imagens) ============
      const PrevidenciaImobiliariaNaPratica = () => (
        <div className="content-animation">
          <h2 className="text-4xl font-bold text-center mb-2 text-wk-text-primary">
            Previdência Imobiliária na Prática
          </h2>
          <p className="text-center text-lg text-gray-500 mb-8">
            Uma visão clara para a construção de patrimônio com alavancagem.
          </p>

          <div className="flex flex-col lg:flex-row items-stretch justify-center gap-8 mb-8">
            {/* Div 1: Definições */}
            <div className="flex-1 bg-white p-6 rounded-xl shadow-lg border-2 border-gray-100 transition-all duration-300 hover:shadow-2xl">
              <h3 className="text-2xl font-bold text-wk-vibrant-blue mb-4">
                Alavancagem Patrimonial
              </h3>
              <p className="text-lg leading-relaxed text-gray-700">
                É a compra de um imóvel, utilizando um recurso de uma
                Instituição Financeira, com o intuito de gerar renda (aluguel).
              </p>
              <p className="text-lg leading-relaxed text-gray-700 mt-4">
                Na Alavancagem Patrimonial o objetivo é que, depois da compra do
                imóvel, o aluguel do imóvel cubra as despesas das prestações.
              </p>
              <p className="text-lg leading-relaxed text-gray-700 mt-4">
                A partir desse momento, você não terá custos para cumprir seus
                compromissos e, ao final do contrato, terá o imóvel quitado
                tendo “pago” uma pequena parte.
              </p>
            </div>

            {/* Div 2: Acúmulo de Patrimônio */}
            <div className="flex-1 bg-white p-6 rounded-xl shadow-lg border-2 border-gray-100 transition-all duration-300 hover:shadow-2xl">
              <h3 className="text-2xl font-bold text-wk-vibrant-blue mb-4">
                Estratégia de Acúmulo
              </h3>
              <p className="text-lg leading-relaxed text-gray-700">
                Seguindo a estratégia de alavancagem patrimonial é possível
                acumular um bem a cada 5 anos.
              </p>
              <div className="mt-6 space-y-4">
                {[
                  "5 anos - 1 imóvel",
                  "10 anos - 2 imóveis",
                  "15 anos - 3 imóveis",
                  "20 anos - 4 imóveis",
                ].map((t, i) => (
                  <div
                    key={i}
                    className="flex items-center text-gray-700 text-lg font-semibold"
                  >
                    <svg
                      className="w-6 h-6 mr-3 text-wk-vibrant-blue flex-shrink-0"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                    >
                      <path
                        fillRule="evenodd"
                        d="M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z"
                        clipRule="evenodd"
                      ></path>
                    </svg>
                    <span>{t}</span>
                  </div>
                ))}
              </div>
            </div>
          </div>
        </div>
      );

      // ============ PREVIDÊNCIA IMOBILIÁRIA (16:9) ============
      const PrevidenciaImobiliaria = () => {
        // Inputs
        const parcelaMensal = 3357;
        const valorCredito = 1_000_000;
        const idadeContratacao = 29;
        const anosTeoricaContemplacao = 4;
        const valorLanceProprio = 300_000;
        const valorLanceEmbutido = 300_000;
        const parcelaPosContemplacao = 3138.45;
        const taxaAnualAluguel = 0.08;

        // Derivados
        const idadeTeoricaContemplacao =
          idadeContratacao + anosTeoricaContemplacao;
        const valorCreditoLiquido = valorCredito - valorLanceEmbutido;
        const rendaAnualAluguel = valorCreditoLiquido * taxaAnualAluguel;
        const rendaMensalAluguel = rendaAnualAluguel / 12;
        const coberturaPercent = Math.max(
          0,
          Math.min(
            100,
            Math.round((rendaMensalAluguel / parcelaPosContemplacao) * 100)
          )
        );

        return (
          <div className="content-animation">
            <h2 className="text-4xl font-bold text-center mb-2">
              Previdência Imobiliária
            </h2>
            <p className="text-center text-gray-500 mb-8">
              Alavancagem patrimonial com renda de aluguel cobrindo o
              compromisso.
            </p>

            <FitImage
              src="https://firebasestorage.googleapis.com/v0/b/financial-independence-planner.appspot.com/o/valoriq-github-blog%2FprevidenciaImobiliaria.png?alt=media&token=b212998e-8d6f-4275-8c61-747f61d9289e"
              alt="Fluxo da Previdência Imobiliária"
              ratio="16/9"
              mode="contain"
              maxH="540px"
              className="mb-6 sm:mb-8"
              clickToOpen
            />

            {/* Cards principais */}
            <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
              <div className="p-5 rounded-xl border bg-white shadow-sm">
                <p className="text-sm font-semibold text-gray-500">
                  Parcela atual
                </p>
                <p
                  className="mt-1 text-2xl font-extrabold"
                  style={{ color: "var(--wk-vibrant-blue)" }}
                >
                  R{"$ "}
                  {parcelaMensal.toLocaleString("pt-BR", {
                    minimumFractionDigits: 2,
                  })}
                </p>
                <p className="mt-2 text-gray-500 text-sm">
                  antes da contemplação
                </p>
              </div>

              <div className="p-5 rounded-xl border bg-white shadow-sm">
                <p className="text-sm font-semibold text-gray-500">
                  Carta de crédito
                </p>
                <p
                  className="mt-1 text-2xl font-extrabold"
                  style={{ color: "var(--wk-dark-blue)" }}
                >
                  R{"$ "}
                  {valorCredito.toLocaleString("pt-BR", {
                    minimumFractionDigits: 2,
                  })}
                </p>
                <p className="mt-2 text-gray-500 text-sm">
                  valor bruto contratado
                </p>
              </div>

              <div className="p-5 rounded-xl border bg-white shadow-sm">
                <p className="text-sm font-semibold text-gray-500">
                  Contemplação (teórica)
                </p>
                <p className="mt-1 text-2xl font-extrabold text-emerald-600">
                  {idadeTeoricaContemplacao} anos
                </p>
                <p className="mt-2 text-gray-500 text-sm">
                  contratação aos {idadeContratacao} → +
                  {anosTeoricaContemplacao} anos
                </p>
              </div>
            </div>

            {/* Detalhes + medidor de cobertura */}
            <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
              {/* Detalhes numéricos */}
              <div className="w-full bg-white p-6 rounded-xl shadow-md border">
                {[
                  [
                    "Valor do lance (recurso próprio)",
                    `R$ ${valorLanceProprio.toLocaleString("pt-BR", {
                      minimumFractionDigits: 2,
                    })}`,
                    "text-green-600",
                  ],
                  [
                    "Lance embutido",
                    `R$ ${valorLanceEmbutido.toLocaleString("pt-BR", {
                      minimumFractionDigits: 2,
                    })}`,
                    "text-green-600",
                  ],
                  [
                    "Parcela pós contemplação",
                    `R$ ${parcelaPosContemplacao.toLocaleString("pt-BR", {
                      minimumFractionDigits: 2,
                    })}`,
                    "",
                  ],
                  [
                    "Crédito líquido (após lance embutido)",
                    `R$ ${valorCreditoLiquido.toLocaleString("pt-BR", {
                      minimumFractionDigits: 2,
                    })}`,
                    "text-emerald-600",
                  ],
                  [
                    "Renda com aluguel (anual)",
                    `R$ ${rendaAnualAluguel.toLocaleString("pt-BR", {
                      minimumFractionDigits: 2,
                    })}`,
                    "text-emerald-700",
                  ],
                ].map(([label, value, tone], idx) => (
                  <div
                    key={idx}
                    className={`flex items-center justify-between py-3 ${
                      idx < 4 ? "border-b" : ""
                    }`}
                  >
                    <span className="text-gray-600 font-semibold">
                      {label}:
                    </span>
                    <span className={`text-lg font-bold ${tone}`}>{value}</span>
                  </div>
                ))}

                <div className="mt-4 text-xs text-gray-500">
                  *valores ilustrativos; taxas e regras podem variar por
                  administradora.
                </div>
              </div>

              {/* Cobertura do aluguel */}
              <div className="w-full bg-white p-6 rounded-xl shadow-md border">
                <h3 className="font-bold text-lg mb-2">
                  Cobertura do aluguel sobre a parcela
                </h3>
                <div className="flex items-baseline gap-4 mb-3">
                  <div>
                    <p className="text-sm text-gray-500">
                      Aluguel mensal estimado
                    </p>
                    <p className="text-2xl font-extrabold text-emerald-600">
                      R{"$ "}
                      {rendaMensalAluguel.toLocaleString("pt-BR", {
                        minimumFractionDigits: 2,
                      })}
                    </p>
                  </div>
                  <div className="opacity-60">/</div>
                  <div>
                    <p className="text-sm text-gray-500">
                      Parcela pós contemplação
                    </p>
                    <p
                      className="text-2xl font-extrabold"
                      style={{ color: "var(--wk-vibrant-blue)" }}
                    >
                      R{"$ "}
                      {parcelaPosContemplacao.toLocaleString("pt-BR", {
                        minimumFractionDigits: 2,
                      })}
                    </p>
                  </div>
                </div>

                <div className="h-3 rounded-full bg-slate-200 overflow-hidden">
                  <div
                    className="h-full"
                    style={{
                      width: `${coberturaPercent}%`,
                      background:
                        "linear-gradient(90deg, var(--wk-dark-blue), var(--wk-vibrant-blue))",
                      transition: "width 1s cubic-bezier(0.25, 1, 0.5, 1)",
                    }}
                  />
                </div>
                <div className="mt-2 text-sm font-semibold">
                  Cobertura:{" "}
                  <span className="text-emerald-700">{coberturaPercent}%</span>
                </div>

                <div className="mt-4 grid grid-cols-2 gap-3">
                  <div className="px-3 py-2 rounded-lg bg-emerald-50 text-emerald-700 font-semibold text-sm">
                    Sem juros, taxa de administração diluída
                  </div>
                  <div className="px-3 py-2 rounded-lg bg-blue-50 text-blue-700 font-semibold text-sm">
                    Poder de compra à vista na contemplação
                  </div>
                </div>
              </div>
            </div>
          </div>
        );
      };

      // ============ PREVIDÊNCIA (atualizado p/ 16:9) ============
      const Previdencia = () => {
        const aportesAnuais = 24_000;
        const idadeContratacao = 29;
        const tempoContribuicao = 5;
        const idadeFinalContribuicao = idadeContratacao + tempoContribuicao;
        const tempoAteRetirada = 10;
        const taxaAnual = 0.08;

        let valorAcumuladoContribuicao = 0;
        for (let i = 0; i < tempoContribuicao; i++) {
          valorAcumuladoContribuicao +=
            aportesAnuais * Math.pow(1 + taxaAnual, tempoContribuicao - i);
        }
        const valorTotalAcumulado =
          valorAcumuladoContribuicao *
          Math.pow(1 + taxaAnual, tempoAteRetirada);
        const valorRetiradasAnuais = valorTotalAcumulado * 0.1;

        return (
          <div className="content-animation">
            <h2 className="text-4xl font-bold text-center mb-2">Previdência</h2>
            <p className="text-center text-gray-500 mb-6 sm:mb-8">
              Aporte por {tempoContribuicao} anos, deixa render{" "}
              {tempoAteRetirada} anos e cria renda.
            </p>

            <FitImage
              src="https://firebasestorage.googleapis.com/v0/b/financial-independence-planner.appspot.com/o/valoriq-github-blog%2Fprevidencia.png?alt=media&token=fe65f858-b989-4643-8091-bd515d08d6fd"
              alt="Estratégia de Previdência"
              ratio="16/9"
              mode="contain"
              maxH="540px"
              className="mb-6 sm:mb-8"
              clickToOpen
            />

            <div className="grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8">
              {/* Stats */}
              <div className="w-full bg-white p-5 sm:p-6 rounded-xl shadow-md border">
                {[
                  [
                    "Aportes anuais",
                    `R$ ${aportesAnuais.toLocaleString("pt-BR")}`,
                  ],
                  ["Idade na contratação", `${idadeContratacao} anos`],
                  [
                    "Aportes até qual idade?",
                    `${idadeFinalContribuicao} anos (${tempoContribuicao} anos)`,
                  ],
                  [
                    "Valor acumulado (após contribuições)",
                    `R$ ${valorAcumuladoContribuicao.toLocaleString("pt-BR", {
                      minimumFractionDigits: 2,
                    })}`,
                  ],
                  ["Rendimento sem novos aportes", `${tempoAteRetirada} anos`],
                  [
                    "Valor total acumulado",
                    `R$ ${valorTotalAcumulado.toLocaleString("pt-BR", {
                      minimumFractionDigits: 2,
                    })}`,
                  ],
                  [
                    "Retiradas anuais estimadas (10%)",
                    `R$ ${valorRetiradasAnuais.toLocaleString("pt-BR", {
                      minimumFractionDigits: 2,
                    })}`,
                  ],
                ].map(([label, value], idx) => (
                  <div
                    key={idx}
                    className={`flex items-center justify-between py-3 ${
                      idx < 6 ? "border-b" : ""
                    }`}
                  >
                    <span className="text-gray-600 font-semibold">
                      {label}:
                    </span>
                    <span className="text-lg font-bold">{value}</span>
                  </div>
                ))}
                <div className="mt-4 text-xs text-gray-500">
                  *Cálculo ilustrativo com taxa constante; não constitui
                  promessa de resultado.
                </div>
              </div>

              {/* Jornada */}
              <div className="w-full bg-white p-5 sm:p-6 rounded-xl shadow-md border">
                <h3 className="font-bold text-lg mb-4">
                  Jornada da estratégia
                </h3>

                <p className="text-sm font-semibold text-gray-600 mb-1">
                  Fase 1 — Contribuição ({tempoContribuicao} anos)
                </p>
                <div className="h-3 rounded-full bg-slate-200 overflow-hidden mb-5">
                  <div
                    className="h-full"
                    style={{
                      width: "100%",
                      transformOrigin: "left",
                      animation:
                        "grow 1.2s cubic-bezier(0.25,1,0.5,1) forwards",
                      background:
                        "linear-gradient(90deg, var(--wk-dark-blue), var(--wk-vibrant-blue))",
                    }}
                  />
                </div>

                <p className="text-sm font-semibold text-gray-600 mb-1">
                  Fase 2 — Rendimento ({tempoAteRetirada} anos)
                </p>
                <div className="h-3 rounded-full bg-slate-200 overflow-hidden mb-4">
                  <div
                    className="h-full"
                    style={{
                      width: "100%",
                      transformOrigin: "left",
                      animation:
                        "grow 1.2s 0.15s cubic-bezier(0.25,1,0.5,1) forwards",
                      background: "linear-gradient(90deg, #10b981, #34d399)",
                    }}
                  />
                </div>

                <div className="grid grid-cols-2 gap-3">
                  <div className="px-3 py-2 rounded-lg bg-blue-50 text-blue-700 font-semibold text-sm">
                    Disciplina primeiro, renda depois
                  </div>
                  <div className="px-3 py-2 rounded-lg bg-emerald-50 text-emerald-700 font-semibold text-sm">
                    Saque planejado em 10%
                  </div>
                </div>
              </div>
            </div>
          </div>
        );
      };

      // ============ PREVIDÊNCIA PRIVADA (16:9 nas artes) ============
      const PrevidenciaPrivada = () => (
        <div className="content-animation">
          <h2 className="text-4xl font-bold text-center mb-2">
            Previdência Privada
          </h2>
          <p className="text-center text-gray-500 mb-8">
            Pilares, benefícios e comparativos de planos.
          </p>

          <div className="flex flex-col items-center gap-8">
            <div className="flex flex-col sm:flex-row gap-8 w-full justify-center items-stretch">
              <FitImage
                src="https://firebasestorage.googleapis.com/v0/b/financial-independence-planner.appspot.com/o/valoriq-github-blog%2Fpq-pv.png?alt=media&token=74c0028f-9eff-40e5-9b17-b702d2d4801a"
                alt="Previdência Privada - Vantagens"
                ratio="16/9"
                mode="contain"
                maxH="520px"
                hoverEffect="none"
                clickToOpen
              />
              <FitImage
                src="https://firebasestorage.googleapis.com/v0/b/financial-independence-planner.appspot.com/o/valoriq-github-blog%2Ftabela-tributacao-fundos-vgbl.png?alt=media&token=9d8e6d50-241e-43c9-8750-a1396b668bce"
                alt="Previdência Privada - Comparativo"
                ratio="16/9"
                mode="contain"
                maxH="520px"
                clickToOpen
              />
            </div>

            <FitImage
              src="https://firebasestorage.googleapis.com/v0/b/financial-independence-planner.appspot.com/o/valoriq-github-blog%2Ftabela-tributacao-fundos.png?alt=media&token=c2910021-9d21-4f20-9444-988069d916f8"
              alt="Previdência Privada - Estrutura de fundos"
              ratio="16/9"
              mode="contain"
              maxH="520px"
              clickToOpen
            />

            <div className="grid grid-cols-1 sm:grid-cols-3 gap-3 w-full">
              <div className="px-4 py-3 rounded-lg bg-blue-50 text-blue-700 font-semibold text-sm text-center">
                Portabilidade entre planos
              </div>
              <div className="px-4 py-3 rounded-lg bg-emerald-50 text-emerald-700 font-semibold text-sm text-center">
                Beneficiário livre e sem inventário
              </div>
              <div className="px-4 py-3 rounded-lg bg-amber-50 text-amber-700 font-semibold text-sm text-center">
                Regimes tributários distintos (PGBL/VGBL)
              </div>
            </div>
          </div>
        </div>
      );

      // ============ DOLARIZAÇÃO (todas as artes 16:9) ============
      const Dolarizacao = () => (
        <div className="content-animation">
          <h2 className="text-4xl font-bold text-center mb-2">Dolarização</h2>
          <p className="text-center text-gray-500 mb-8">
            Exposição internacional para diversificar risco e preservar poder de
            compra.
          </p>

          <div className="max-w-5xl mx-auto grid grid-cols-1 gap-6">
            <FitImage
              src="https://firebasestorage.googleapis.com/v0/b/financial-independence-planner.appspot.com/o/valoriq-github-blog%2FdolarizacaoSolucaoValoriq.png?alt=media&token=9054f355-4517-4b41-b572-d00410867db9"
              alt="Dolarização - visão geral"
              ratio="16/9"
              mode="contain"
              maxH="480px"
              clickToOpen
            />
            <FitImage
              src="https://firebasestorage.googleapis.com/v0/b/financial-independence-planner.appspot.com/o/valoriq-github-blog%2FevolucaoRentabilidade.png?alt=media&token=25821b0f-3910-4b94-80df-fd47b6577ed7"
              alt="Evolução de rentabilidade"
              ratio="16/9"
              mode="contain"
              maxH="480px"
              clickToOpen
            />
            <FitImage
              src="https://firebasestorage.googleapis.com/v0/b/financial-independence-planner.appspot.com/o/valoriq-github-blog%2FcontaOffShore.png?alt=media&token=f7935583-2f6b-4f10-9e71-8e572a4d6e3e"
              alt="Conta offshore: jurisdição, regulação e custodiante"
              ratio="16/9"
              mode="contain"
              maxH="480px"
              clickToOpen
            />
          </div>

          <div className="grid grid-cols-1 sm:grid-cols-3 gap-3 mt-8">
            <div className="px-4 py-3 rounded-lg bg-sky-50 text-sky-700 font-semibold text-sm text-center">
              Acesso a setores globais
            </div>
            <div className="px-4 py-3 rounded-lg bg-indigo-50 text-indigo-700 font-semibold text-sm text-center">
              Moeda forte (USD)
            </div>
            <div className="px-4 py-3 rounded-lg bg-rose-50 text-rose-700 font-semibold text-sm text-center">
              Redução de risco Brasil
            </div>
          </div>
        </div>
      );

      // ============ SAVING (16:9) ============
      const Saving = () => {
        const valorAportesAnuais = 12_000; // USD
        const idadeContratacao = 29;
        const tempoContribuicao = 15;
        const idadeFinalContribuicao = idadeContratacao + tempoContribuicao;
        const taxaAnual = 0.08; // 8% a.a.
        const tempoCrescimento = 20;

        let valorAcumuladoContribuicao = 0;
        for (let i = 0; i < tempoContribuicao; i++) {
          valorAcumuladoContribuicao +=
            valorAportesAnuais * Math.pow(1 + taxaAnual, tempoContribuicao - i);
        }
        const valorTotalAcumulado =
          valorAcumuladoContribuicao *
          Math.pow(1 + taxaAnual, tempoCrescimento);
        const valorRetiradasAnuais = valorTotalAcumulado * 0.08;

        const fmtUSD = (n) =>
          `US$ ${n.toLocaleString("en-US", {
            minimumFractionDigits: 2,
            maximumFractionDigits: 2,
          })}`;

        return (
          <div className="content-animation">
            <h2 className="text-4xl font-bold text-center mb-2">Saving</h2>
            <p className="text-center text-gray-500 mb-6 sm:mb-8">
              Aporte anual em moeda forte com foco de longo prazo.
            </p>

            <FitImage
              src="https://firebasestorage.googleapis.com/v0/b/financial-independence-planner.appspot.com/o/valoriq-github-blog%2Fsaving.png?alt=media&token=92f2b922-69d8-4e0a-be60-592811eed441"
              alt="Saving em dólares"
              ratio="16/9"
              mode="contain"
              maxH="480px"
              className="mb-6 sm:mb-8"
              clickToOpen
            />

            <div className="grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8">
              <div className="w-full bg-white p-6 rounded-xl shadow-md border">
                {[
                  ["Aportes anuais", fmtUSD(valorAportesAnuais)],
                  ["Idade na contratação", `${idadeContratacao} anos`],
                  [
                    "Tempo de contribuição",
                    `${tempoContribuicao} anos (até ${idadeFinalContribuicao})`,
                  ],
                  [
                    "Valor acumulado (após contribuições)",
                    fmtUSD(valorAcumuladoContribuicao),
                  ],
                  ["Crescimento sem novos aportes", `${tempoCrescimento} anos`],
                  ["Valor total acumulado", fmtUSD(valorTotalAcumulado)],
                  [
                    "Retiradas anuais estimadas (8%)",
                    fmtUSD(valorRetiradasAnuais),
                  ],
                ].map(([label, value], idx) => (
                  <div
                    key={idx}
                    className={`flex items-center justify-between py-3 ${
                      idx < 6 ? "border-b" : ""
                    }`}
                  >
                    <span className="text-gray-600 font-semibold">
                      {label}:
                    </span>
                    <span className="text-lg font-bold">{value}</span>
                  </div>
                ))}
                <div className="mt-4 text-xs text-gray-500">
                  *Cenário em USD para proteção cambial; valores ilustrativos.
                </div>
              </div>

              <div className="w-full bg-white p-6 rounded-xl shadow-md border">
                <h3 className="font-bold text-lg mb-4">
                  Jornada da estratégia
                </h3>

                <p className="text-sm font-semibold text-gray-600 mb-1">
                  Fase 1 — Contribuição ({tempoContribuicao} anos)
                </p>
                <div className="h-3 rounded-full bg-slate-200 overflow-hidden mb-5">
                  <div
                    className="h-full"
                    style={{
                      width: "100%",
                      transformOrigin: "left",
                      animation:
                        "grow 1.2s cubic-bezier(0.25,1,0.5,1) forwards",
                      background:
                        "linear-gradient(90deg, var(--wk-dark-blue), var(--wk-vibrant-blue))",
                    }}
                  />
                </div>

                <p className="text-sm font-semibold text-gray-600 mb-1">
                  Fase 2 — Crescimento (sem novos aportes) ({tempoCrescimento}{" "}
                  anos)
                </p>
                <div className="h-3 rounded-full bg-slate-200 overflow-hidden mb-4">
                  <div
                    className="h-full"
                    style={{
                      width: "100%",
                      transformOrigin: "left",
                      animation:
                        "grow 1.2s 0.15s cubic-bezier(0.25,1,0.5,1) forwards",
                      background: "linear-gradient(90deg, #10b981, #34d399)",
                    }}
                  />
                </div>

                <div className="grid grid-cols-2 gap-3">
                  <div className="px-3 py-2 rounded-lg bg-blue-50 text-blue-700 font-semibold text-sm">
                    Disciplina em USD
                  </div>
                  <div className="px-3 py-2 rounded-lg bg-emerald-50 text-emerald-700 font-semibold text-sm">
                    Retirada sustentável (8%)
                  </div>
                </div>
              </div>
            </div>
          </div>
        );
      };

      // ============ INVESTMENT (16:9) ============
      const Investment = () => {
        const valorAporteUnico = 200_000; // USD
        const idadeContratacao = 29;
        const tempoRendendo = 5;
        const taxaAnual = 0.08;

        const valorAos2Anos = valorAporteUnico * Math.pow(1 + taxaAnual, 2);
        const valorTotalAcumulado =
          valorAporteUnico * Math.pow(1 + taxaAnual, tempoRendendo);
        const valorRetiradasAnuais = valorTotalAcumulado * 0.08;

        const fmtUSD = (n) =>
          `US$ ${n.toLocaleString("en-US", {
            minimumFractionDigits: 2,
            maximumFractionDigits: 2,
          })}`;

        return (
          <div className="content-animation">
            <h2 className="text-4xl font-bold text-center mb-2">Investment</h2>
            <p className="text-center text-gray-500 mb-6 sm:mb-8">
              Aporte único com crescimento composto.
            </p>

            <FitImage
              src="https://firebasestorage.googleapis.com/v0/b/financial-independence-planner.appspot.com/o/valoriq-github-blog%2Finvestment.png?alt=media&token=03584c29-18dd-4c0a-ae2e-1c70fd24fb2f"
              alt="Investment - Aporte único"
              ratio="16/9"
              mode="contain"
              maxH="480px"
              className="mb-6 sm:mb-8"
              clickToOpen
            />

            <div className="grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8">
              <div className="w-full bg-white p-6 rounded-xl shadow-md border">
                {[
                  ["Valor do aporte único", fmtUSD(valorAporteUnico)],
                  ["Idade na contratação", `${idadeContratacao} anos`],
                  [
                    `Valor acumulado aos ${idadeContratacao + 2} anos`,
                    fmtUSD(valorAos2Anos),
                  ],
                  ["Período até início das retiradas", `${tempoRendendo} anos`],
                  ["Valor total acumulado", fmtUSD(valorTotalAcumulado)],
                  [
                    "Retiradas anuais estimadas (8%)",
                    fmtUSD(valorRetiradasAnuais),
                  ],
                ].map(([label, value], idx) => (
                  <div
                    key={idx}
                    className={`flex items-center justify-between py-3 ${
                      idx < 5 ? "border-b" : ""
                    }`}
                  >
                    <span className="text-gray-600 font-semibold">
                      {label}:
                    </span>
                    <span className="text-lg font-bold">{value}</span>
                  </div>
                ))}
                <div className="mt-4 text-xs text-gray-500">
                  *Valores ilustrativos com taxa constante; uso didático.
                </div>
              </div>

              <div className="w-full bg-white p-6 rounded-xl shadow-md border">
                <h3 className="font-bold text-lg mb-4">
                  Jornada da estratégia
                </h3>

                <p className="text-sm font-semibold text-gray-600 mb-1">
                  Fase única — Crescimento ({tempoRendendo} anos)
                </p>
                <div className="h-3 rounded-full bg-slate-200 overflow-hidden mb-4">
                  <div
                    className="h-full"
                    style={{
                      width: "100%",
                      transformOrigin: "left",
                      animation:
                        "grow 1.2s cubic-bezier(0.25,1,0.5,1) forwards",
                      background: "linear-gradient(90deg, #10b981, #34d399)",
                    }}
                  />
                </div>

                <div className="grid grid-cols-2 gap-3">
                  <div className="px-3 py-2 rounded-lg bg-blue-50 text-blue-700 font-semibold text-sm">
                    Aporte único (US$)
                  </div>
                  <div className="px-3 py-2 rounded-lg bg-emerald-50 text-emerald-700 font-semibold text-sm">
                    Retirada sustentável (8%)
                  </div>
                </div>
              </div>
            </div>
          </div>
        );
      };

      const FitImage = ({
        src,
        alt = "",
        ratio = "auto", // "auto" usa o aspecto real da imagem
        className = "",
        mode = "contain",
        maxH,
        clickToOpen = false,
      }) => {
        const [loaded, setLoaded] = React.useState(false);
        const [intrinsic, setIntrinsic] = React.useState(null);
        const [open, setOpen] = React.useState(false);

        const computedRatio = React.useMemo(() => {
          if (ratio === "auto" && intrinsic) return intrinsic;
          if (typeof ratio === "number") return ratio;
          if (typeof ratio === "string" && ratio.includes("/")) {
            const [w, h] = ratio.split("/").map(Number);
            if (w > 0 && h > 0) return w / h;
          }
          return 16 / 9; // fallback
        }, [ratio, intrinsic]);

        React.useEffect(() => {
          const onKey = (e) => e.key === "Escape" && setOpen(false);
          if (open) window.addEventListener("keydown", onKey);
          return () => window.removeEventListener("keydown", onKey);
        }, [open]);

        const handleKeyDown = (e) => {
          if (!clickToOpen) return;
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            setOpen(true);
          }
        };

        return (
          <>
            <div
              role={clickToOpen ? "button" : undefined}
              tabIndex={clickToOpen ? 0 : undefined}
              aria-label={
                clickToOpen ? "Abrir imagem em tela cheia" : undefined
              }
              className={`relative w-full rounded-xl shadow-lg bg-white overflow-hidden ${className} ${
                clickToOpen ? "cursor-zoom-in" : ""
              }`}
              style={{ aspectRatio: `${computedRatio}`, maxHeight: maxH }}
              onClick={() => clickToOpen && setOpen(true)}
              onKeyDown={handleKeyDown}
            >
              {!loaded && (
                <div className="absolute inset-0 shimmer bg-slate-200" />
              )}
              <img
                src={src}
                alt={alt}
                className="absolute inset-0 w-full h-full transition-opacity"
                style={{ objectFit: mode, opacity: loaded ? 1 : 0 }}
                onLoad={(e) => {
                  const w = e.currentTarget.naturalWidth;
                  const h = e.currentTarget.naturalHeight;
                  if (w && h && ratio === "auto") setIntrinsic(w / h);
                  setLoaded(true);
                }}
                loading="lazy"
                decoding="async"
                draggable={false}
              />
            </div>

            {clickToOpen &&
              open &&
              ReactDOM.createPortal(
                <div
                  className="fixed inset-0 z-[9999] bg-black/70 p-4 flex items-center justify-center"
                  onClick={() => setOpen(false)}
                  role="dialog"
                  aria-modal="true"
                >
                  <button
                    onClick={() => setOpen(false)}
                    className="absolute top-4 right-4 rounded-full bg-white/90 hover:bg-white text-gray-800 px-3 py-1.5 font-bold shadow"
                    aria-label="Fechar"
                  >
                    ✕
                  </button>
                  <img
                    src={src}
                    alt={alt}
                    className="max-w-[95vw] max-h-[90vh] object-contain rounded-lg shadow-2xl"
                    onClick={(e) => e.stopPropagation()}
                    draggable={false}
                  />
                </div>,
                document.body
              )}
          </>
        );
      };

      // === Helpers financeiros (série de pagamentos e capital único) ===
      const fvSerie = (A, r, n, { due = false } = {}) => {
        if (n <= 0) return 0;
        if (r === 0) return A * n;
        const factor = ((1 + r) ** n - 1) / r; // aportes no FIM do período
        return A * factor * (due ? 1 + r : 1); // due=true => INÍCIO do período
      };
      const fvLump = (pv, r, n) => pv * (1 + r) ** n;

      // Componente Principal da Aplicação
      function App() {
        const [currentPage, setCurrentPage] = useState("quem-somos");

        // scrolla para o topo a cada navegação
        useEffect(() => {
          window.scrollTo({ top: 0, behavior: "smooth" });
        }, [currentPage]);

        const renderPage = () => {
          switch (currentPage) {
            case "quem-somos":
              return <QuemSomos />;
            case "previdencia-imobiliaria-na-pratica":
              return <PrevidenciaImobiliariaNaPratica />;
            case "modalidades":
              return <Modalidades />;
            case "financiamento":
              return <Financiamento />;
            case "consorcio":
              return <Consorcio />;
            case "jornada-previdencia-imobiliaria":
              return <JornadaPatrimonio />;
            case "estrategia-contemplacao":
              return <EstrategiaContemplacao />;
            case "previdencia":
              return <Previdencia />;
            case "previdencia-imobiliaria":
              return <PrevidenciaImobiliaria />;
            case "previdencia-privada":
              return <PrevidenciaPrivada />;
            case "dolarizacao":
              return <Dolarizacao />;
            case "saving":
              return <Saving />;
            case "investment":
              return <Investment />;
            default:
              return <QuemSomos />;
          }
        };

        return (
          <React.Fragment>
            <GlobalStyles />
            <div className="p-4 sm:p-6 lg:p-8 max-w-full mx-auto">
              <Header />
              <div className="flex flex-row gap-6">
                <Sidebar activePage={currentPage} onNavigate={setCurrentPage} />
                <div className="flex-1 min-w-0">
                  {/* page-card aplica a animação de entrada a cada troca de aba */}
                  <main
                    key={currentPage}
                    className="page-card bg-white p-6 sm:p-8 rounded-xl shadow-lg min-h-[700px] w-full relative"
                  >
                    {renderPage()}
                  </main>
                </div>
              </div>
            </div>
          </React.Fragment>
        );
      }

      // Este script final monta o componente 'App' na div 'root'.
      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(
        <React.StrictMode>
          <App />
        </React.StrictMode>
      );
    </script>
  </body>
</html>
